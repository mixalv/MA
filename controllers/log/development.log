  [1m[35m (4.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (25.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTables (20220206173054)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "CreateTables" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_CreateTables" ON "users" ("CreateTables")[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTables (20220206173054)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" varchar, "category" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" varchar, "user_id" integer, "post_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_post_id" ON "comments" ("post_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220206173054"]]
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (4.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-02-06 19:02:01.173379"], ["updated_at", "2022-02-06 19:02:01.173379"]]
  [1m[36mTRANSACTION (35.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2022-02-06 21:49:39 +0200
  [1m[35m (4.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/masters-academy/.rvm/gems/ruby-3.0.0/gems/railties-7.0.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/masters-academy/.rvm/gems/ruby-3.0.0/gems/railties-7.0.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 27.0ms | Allocations: 718)
Completed 200 OK in 124ms (Views: 62.9ms | ActiveRecord: 0.0ms | Allocations: 6821)


Started POST "/user" for 127.0.0.1 at 2022-02-06 21:59:16 +0200
  
ActionController::RoutingError (No route matches [POST] "/user"):
  
Started POST "/user" for 127.0.0.1 at 2022-02-06 22:02:58 +0200
  
ActionController::RoutingError (No route matches [POST] "/user"):
  
Started POST "/user" for 127.0.0.1 at 2022-02-06 22:05:58 +0200
  [1m[35m (37.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"name"=>"some name", "user"=>{"name"=>"some name"}}
Completed 200 OK in 335ms (Views: 0.7ms | ActiveRecord: 3.8ms | Allocations: 18438)


Started POST "/user" for 127.0.0.1 at 2022-02-06 22:06:55 +0200
  [1m[35m (27.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"name"=>"some name", "user"=>{"name"=>"some name"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:3:in `create'
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "some name"], ["created_at", "2022-02-06 20:06:58.009962"], ["updated_at", "2022-02-06 20:06:58.009962"]]
  â†³ app/controllers/users_controller.rb:3:in `create'
  [1m[36mTRANSACTION (65.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:3:in `create'
Completed 200 OK in 388ms (Views: 1.1ms | ActiveRecord: 71.2ms | Allocations: 20689)


Started POST "/user" for 127.0.0.1 at 2022-02-06 22:07:05 +0200
Processing by UsersController#create as */*
  Parameters: {"name"=>"some name", "user"=>{"name"=>"some name"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:3:in `create'
  [1m[36mUser Create (11.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "some name"], ["created_at", "2022-02-06 20:07:05.612132"], ["updated_at", "2022-02-06 20:07:05.612132"]]
  â†³ app/controllers/users_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:3:in `create'
Completed 500 Internal Server Error in 82ms (ActiveRecord: 11.3ms | Allocations: 1908)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: users.name):
  
app/controllers/users_controller.rb:3:in `create'
Started POST "/user/1/post" for 127.0.0.1 at 2022-02-06 22:16:26 +0200
  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (8.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#create as */*
  Parameters: {"content"=>"some name", "user_id"=>"1", "post"=>{"content"=>"some name"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:3:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:3:in `create'
  [1m[36mPost Create (5.6ms)[0m  [1m[32mINSERT INTO "posts" ("content", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some name"], ["category", nil], ["user_id", 1], ["created_at", "2022-02-06 20:16:28.349501"], ["updated_at", "2022-02-06 20:16:28.349501"]]
  â†³ app/controllers/posts_controller.rb:3:in `create'
  [1m[36mTRANSACTION (79.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:3:in `create'
Completed 200 OK in 561ms (Views: 0.3ms | ActiveRecord: 86.9ms | Allocations: 31809)


Started POST "/user/1post/1" for 127.0.0.1 at 2022-02-06 22:27:37 +0200
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/user/1post/1"):
  
Started PUT "/user/1post/1" for 127.0.0.1 at 2022-02-06 22:27:45 +0200
  
ActionController::RoutingError (No route matches [PUT] "/user/1post/1"):
  
Started PUT "/user/1/post/1" for 127.0.0.1 at 2022-02-06 22:27:53 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:8:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:9:in `update'
Completed 500 Internal Server Error in 243ms (ActiveRecord: 2.1ms | Allocations: 25716)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/posts_controller.rb:11:in `update'
Started PUT "/user/1/post/1" for 127.0.0.1 at 2022-02-06 22:33:30 +0200
  [1m[35m (2.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:8:in `update'
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:9:in `update'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007fe7e8d8e1b8>, params: {"content"=>"some new", "controller"=>"posts", "action"=>"update", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mPost Update (20.8ms)[0m  [1m[33mUPDATE "posts" SET "content" = ?, "updated_at" = ? WHERE "posts"."id" = ?[0m  [["content", "some new"], ["updated_at", "2022-02-06 20:33:32.748704"], ["id", 1]]
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:11:in `update'
Completed 200 OK in 556ms (Views: 25.2ms | ActiveRecord: 79.7ms | Allocations: 32028)


Started PUT "/user/1/post/1" for 127.0.0.1 at 2022-02-06 22:34:02 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "category"=>"SOme category", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new", "category"=>"SOme category"}}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:8:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:9:in `update'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007fe7e8f540d8>, params: {"content"=>"some new", "category"=>"SOme category", "controller"=>"posts", "action"=>"update", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new", "category"=>"SOme category"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mPost Update (6.4ms)[0m  [1m[33mUPDATE "posts" SET "category" = ?, "updated_at" = ? WHERE "posts"."id" = ?[0m  [["category", "SOme category"], ["updated_at", "2022-02-06 20:34:02.417405"], ["id", 1]]
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mTRANSACTION (27.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:11:in `update'
Completed 200 OK in 184ms (Views: 0.3ms | ActiveRecord: 34.6ms | Allocations: 3744)


Started PUT "/user/1/post/1" for 127.0.0.1 at 2022-02-06 22:34:09 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:8:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:9:in `update'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007fe7e9029260>, params: {"content"=>"some new", "controller"=>"posts", "action"=>"update", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:11:in `update'
Completed 200 OK in 108ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 3103)


Started PUT "/user/3/post/1" for 127.0.0.1 at 2022-02-06 22:35:56 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"3", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:8:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:9:in `update'
Completed 404 Not Found in 70ms (ActiveRecord: 0.3ms | Allocations: 942)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=3):
  
app/controllers/posts_controller.rb:9:in `update'
Started PUT "/user/3/post/1" for 127.0.0.1 at 2022-02-06 22:40:14 +0200
  [1m[35m (7.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"3", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:8:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:9:in `update'
Completed 500 Internal Server Error in 269ms (ActiveRecord: 25.2ms | Allocations: 24014)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/posts_controller.rb:10:in `update'
Started POST "/user" for 127.0.0.1 at 2022-02-06 22:43:08 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#create as */*
  Parameters: {"name"=>"some new", "user"=>{"name"=>"some new"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:3:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "some new"], ["created_at", "2022-02-06 20:43:08.672048"], ["updated_at", "2022-02-06 20:43:08.672048"]]
  â†³ app/controllers/users_controller.rb:3:in `create'
  [1m[36mTRANSACTION (24.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:3:in `create'
Completed 200 OK in 132ms (Views: 0.4ms | ActiveRecord: 27.2ms | Allocations: 4790)


Started POST "/user/2/post/1" for 127.0.0.1 at 2022-02-06 22:43:26 +0200
  
ActionController::RoutingError (No route matches [POST] "/user/2/post/1"):
  
Started PUT "/user/2/post/1" for 127.0.0.1 at 2022-02-06 22:43:35 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:8:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:9:in `update'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007f732c4376b8>, params: {"content"=>"some new", "controller"=>"posts", "action"=>"update", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mPost Update (0.5ms)[0m  [1m[33mUPDATE "posts" SET "user_id" = ?, "updated_at" = ? WHERE "posts"."id" = ?[0m  [["user_id", 2], ["updated_at", "2022-02-06 20:43:35.375565"], ["id", 1]]
  â†³ app/controllers/posts_controller.rb:11:in `update'
  [1m[36mTRANSACTION (36.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:11:in `update'
Completed 500 Internal Server Error in 241ms (Views: 0.3ms | ActiveRecord: 39.3ms | Allocations: 8654)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/posts_controller.rb:12:in `update'
Started PUT "/user/2/post/1" for 127.0.0.1 at 2022-02-06 22:50:25 +0200
  [1m[35m (3.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
Completed 500 Internal Server Error in 206ms (ActiveRecord: 2.1ms | Allocations: 27532)


  
NameError (undefined local variable or method `post' for #<PostsController:0x00000000008cf0>):
  
app/controllers/posts_controller.rb:10:in `update'
Started PUT "/user/2/post/1" for 127.0.0.1 at 2022-02-06 22:52:54 +0200
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007f4e28d8a2e8>, params: {"content"=>"some new", "controller"=>"posts", "action"=>"update", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
Completed 200 OK in 400ms (Views: 0.5ms | ActiveRecord: 1.9ms | Allocations: 31268)


Started PUT "/user/1/post/1" for 127.0.0.1 at 2022-02-06 22:53:05 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
Filter chain halted as :check_user rendered or redirected
Completed 403 Forbidden in 36ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 981)


Started PUT "/user/2/post/1" for 127.0.0.1 at 2022-02-06 22:53:23 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new"}}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007f4e187333f0>, params: {"content"=>"some new", "controller"=>"posts", "action"=>"update", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
Completed 200 OK in 118ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 3112)


Started PUT "/user/1/post" for 127.0.0.1 at 2022-02-06 22:54:01 +0200
  
ActionController::RoutingError (No route matches [PUT] "/user/1/post"):
  
Started POST "/user/1/post" for 127.0.0.1 at 2022-02-06 22:54:13 +0200
Processing by PostsController#create as */*
  Parameters: {"content"=>"some new post", "user_id"=>"1", "post"=>{"content"=>"some new post"}}
[31mUnpermitted parameter: :post. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x0000561bfcc79660>, params: {"content"=>"some new post", "controller"=>"posts", "action"=>"create", "user_id"=>"1", "post"=>{"content"=>"some new post"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("content", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some new post"], ["category", nil], ["user_id", 1], ["created_at", "2022-02-06 20:54:13.302363"], ["updated_at", "2022-02-06 20:54:13.302363"]]
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:5:in `create'
Completed 200 OK in 118ms (Views: 0.2ms | ActiveRecord: 42.1ms | Allocations: 3014)


Started PUT "/user/2/post/1" for 127.0.0.1 at 2022-02-06 22:54:27 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new post", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new post"}}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007f4e2871dab8>, params: {"content"=>"some new post", "controller"=>"posts", "action"=>"update", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new post"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mPost Update (22.1ms)[0m  [1m[33mUPDATE "posts" SET "content" = ?, "updated_at" = ? WHERE "posts"."id" = ?[0m  [["content", "some new post"], ["updated_at", "2022-02-06 20:54:27.401672"], ["id", 1]]
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mTRANSACTION (33.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
Completed 200 OK in 198ms (Views: 0.4ms | ActiveRecord: 56.0ms | Allocations: 3797)


Started PUT "/user/1/post/1" for 127.0.0.1 at 2022-02-06 22:54:37 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new post", "user_id"=>"1", "id"=>"1", "post"=>{"content"=>"some new post"}}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
Filter chain halted as :check_user rendered or redirected
Completed 403 Forbidden in 34ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 955)


Started PUT "/user/2/post/1" for 127.0.0.1 at 2022-02-06 22:54:41 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new post", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new post"}}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007f4e182d3350>, params: {"content"=>"some new post", "controller"=>"posts", "action"=>"update", "user_id"=>"2", "id"=>"1", "post"=>{"content"=>"some new post"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
Completed 200 OK in 135ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 3111)


Started POST "/user/1/post" for 127.0.0.1 at 2022-02-06 22:58:06 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by PostsController#create as */*
  Parameters: {"content"=>"some new post3", "user_id"=>"1", "post"=>{"content"=>"some new post3"}}
[31mUnpermitted parameter: :post. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f4e28b40c08>, params: {"content"=>"some new post3", "controller"=>"posts", "action"=>"create", "user_id"=>"1", "post"=>{"content"=>"some new post3"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("content", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some new post3"], ["category", nil], ["user_id", 1], ["created_at", "2022-02-06 20:58:06.580300"], ["updated_at", "2022-02-06 20:58:06.580300"]]
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mTRANSACTION (19.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:5:in `create'
Completed 200 OK in 164ms (Views: 0.2ms | ActiveRecord: 34.9ms | Allocations: 7736)


Started PUT "/user/2/post/3" for 127.0.0.1 at 2022-02-06 22:58:23 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new post", "user_id"=>"2", "id"=>"3", "post"=>{"content"=>"some new post"}}
  [1m[36mPost Load (15.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
Filter chain halted as :check_user rendered or redirected
Completed 403 Forbidden in 79ms (Views: 0.2ms | ActiveRecord: 15.9ms | Allocations: 1306)


Started PUT "/user/2/post/3" for 127.0.0.1 at 2022-02-06 22:58:26 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new post", "user_id"=>"2", "id"=>"3", "post"=>{"content"=>"some new post"}}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
Filter chain halted as :check_user rendered or redirected
Completed 403 Forbidden in 37ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 954)


Started PUT "/user/1/post/3" for 127.0.0.1 at 2022-02-06 22:58:36 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new postds", "user_id"=>"1", "id"=>"3", "post"=>{"content"=>"some new postds"}}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
[31mUnpermitted parameters: :id, :post. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x00007f4e28fb9398>, params: {"content"=>"some new postds", "controller"=>"posts", "action"=>"update", "user_id"=>"1", "id"=>"3", "post"=>{"content"=>"some new postds"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mPost Update (65.8ms)[0m  [1m[33mUPDATE "posts" SET "content" = ?, "updated_at" = ? WHERE "posts"."id" = ?[0m  [["content", "some new postds"], ["updated_at", "2022-02-06 20:58:36.715991"], ["id", 3]]
  â†³ app/controllers/posts_controller.rb:10:in `update'
  [1m[36mTRANSACTION (64.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:10:in `update'
Completed 200 OK in 407ms (Views: 110.5ms | ActiveRecord: 130.5ms | Allocations: 3748)


Started PUT "/user/2/post/3" for 127.0.0.1 at 2022-02-06 22:58:44 +0200
Processing by PostsController#update as */*
  Parameters: {"content"=>"some new postds", "user_id"=>"2", "id"=>"3", "post"=>{"content"=>"some new postds"}}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:20:in `check_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `check_user'
Filter chain halted as :check_user rendered or redirected
Completed 403 Forbidden in 177ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 966)


Started DELETE "/user/2/post/3" for 127.0.0.1 at 2022-02-06 23:03:14 +0200
  [1m[35m (16.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'delete' could not be found for PostsController):
  
actionpack (7.0.1) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.1) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.1) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.1) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.1) lib/action_dispatch/routing/route_set.rb:850:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
activerecord (7.0.1) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.1) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.1) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.1) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.1) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.1) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.1) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.1) lib/rails/engine.rb:530:in `call'
puma (5.6.1) lib/puma/configuration.rb:252:in `call'
puma (5.6.1) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.1) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.1) lib/puma/request.rb:76:in `handle_request'
puma (5.6.1) lib/puma/server.rb:441:in `process_client'
puma (5.6.1) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started DELETE "/user/2/post/3" for 127.0.0.1 at 2022-02-06 23:04:26 +0200
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#delete as */*
  Parameters: {"content"=>"some new postds", "user_id"=>"2", "id"=>"3", "post"=>{"content"=>"some new postds"}}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:24:in `check_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:25:in `check_user'
Filter chain halted as :check_user rendered or redirected
Completed 403 Forbidden in 228ms (Views: 0.5ms | ActiveRecord: 10.5ms | Allocations: 10863)


Started DELETE "/user/2/post/3" for 127.0.0.1 at 2022-02-06 23:04:36 +0200
Processing by PostsController#delete as */*
  Parameters: {"user_id"=>"2", "id"=>"3"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:24:in `check_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:25:in `check_user'
Filter chain halted as :check_user rendered or redirected
Completed 403 Forbidden in 51ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 971)


Started DELETE "/user/1/post/3" for 127.0.0.1 at 2022-02-06 23:06:23 +0200
  [1m[35m (37.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#delete as */*
  Parameters: {"user_id"=>"1", "id"=>"3"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:25:in `check_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:26:in `check_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:15:in `delete'
  [1m[36mPost Destroy (9.9ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/posts_controller.rb:15:in `delete'
  [1m[36mTRANSACTION (34.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:15:in `delete'
Completed 200 OK in 523ms (Views: 0.3ms | ActiveRecord: 47.4ms | Allocations: 31374)


Started GET "/posts?user_id=1" for 127.0.0.1 at 2022-02-06 23:14:25 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/posts_controller.rb:20:in `get_by'
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 98ms (Views: 33.9ms | ActiveRecord: 0.7ms | Allocations: 5246)


Started GET "/posts?user_id=2" for 127.0.0.1 at 2022-02-06 23:14:52 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ?[0m  [["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.1ms | Allocations: 863)


Started POST "/user/1/post" for 127.0.0.1 at 2022-02-06 23:15:02 +0200
Processing by PostsController#create as */*
  Parameters: {"content"=>"some new post4", "user_id"=>"1", "post"=>{"content"=>"some new post4"}}
[31mUnpermitted parameter: :post. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f12249b5ce8>, params: {"content"=>"some new post4", "controller"=>"posts", "action"=>"create", "user_id"=>"1", "post"=>{"content"=>"some new post4"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mPost Create (14.4ms)[0m  [1m[32mINSERT INTO "posts" ("content", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some new post4"], ["category", nil], ["user_id", 1], ["created_at", "2022-02-06 21:15:02.508000"], ["updated_at", "2022-02-06 21:15:02.508000"]]
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mTRANSACTION (20.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:5:in `create'
Completed 200 OK in 327ms (Views: 0.2ms | ActiveRecord: 35.3ms | Allocations: 10044)


Started GET "/posts?user_id=1" for 127.0.0.1 at 2022-02-06 23:15:08 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 33ms (Views: 31.4ms | ActiveRecord: 0.3ms | Allocations: 970)


Started POST "/user/1/post" for 127.0.0.1 at 2022-02-06 23:15:34 +0200
Processing by PostsController#create as */*
  Parameters: {"content"=>"some new post5", "category"=>"some_category", "user_id"=>"1", "post"=>{"content"=>"some new post5", "category"=>"some_category"}}
[31mUnpermitted parameter: :post. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f1224b22338>, params: {"content"=>"some new post5", "category"=>"some_category", "controller"=>"posts", "action"=>"create", "user_id"=>"1", "post"=>{"content"=>"some new post5", "category"=>"some_category"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mPost Create (15.8ms)[0m  [1m[32mINSERT INTO "posts" ("content", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some new post5"], ["category", "some_category"], ["user_id", 1], ["created_at", "2022-02-06 21:15:35.074122"], ["updated_at", "2022-02-06 21:15:35.074122"]]
  â†³ app/controllers/posts_controller.rb:5:in `create'
  [1m[36mTRANSACTION (63.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:5:in `create'
Completed 200 OK in 191ms (Views: 0.2ms | ActiveRecord: 79.6ms | Allocations: 2791)


Started GET "/posts?user_id=1" for 127.0.0.1 at 2022-02-06 23:15:43 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.4ms | Allocations: 1073)


Started GET "/posts?user_id=1&category=some_category" for 127.0.0.1 at 2022-02-06 23:15:53 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.2ms | Allocations: 905)


Started GET "/posts?user_id=1&category=some_category&created_at=2022-02-06T21%3A15%3A35.074Z" for 127.0.0.1 at 2022-02-06 23:16:12 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"2022-02-06T21:15:35.074Z"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:35.074000"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 29ms (Views: 17.7ms | ActiveRecord: 0.3ms | Allocations: 819)


Started GET "/posts?user_id=1&category=some_category&created_at=2022-02-06T21%3A15%3A35.074Z" for 127.0.0.1 at 2022-02-06 23:16:16 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"2022-02-06T21:15:35.074Z"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:35.074000"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.3ms | Allocations: 795)


Started GET "/posts?user_id=1&category=some_category&created_at=2022-02-06" for 127.0.0.1 at 2022-02-06 23:16:37 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"2022-02-06"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 00:00:00"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 32ms (Views: 31.1ms | ActiveRecord: 0.2ms | Allocations: 812)


Started GET "/posts?user_id=1&category=some_category&created_at=%3C2022-02-06" for 127.0.0.1 at 2022-02-06 23:17:01 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"<2022-02-06"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 00:00:00"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 38ms (Views: 37.4ms | ActiveRecord: 0.1ms | Allocations: 800)


Started GET "/posts?user_id=1&category=some_category&created_at" for 127.0.0.1 at 2022-02-06 23:17:25 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>nil}
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" IS NULL AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 37ms (Views: 20.8ms | ActiveRecord: 0.6ms | Allocations: 782)


Started GET "/posts?user_id=1&category=some_category&created_at" for 127.0.0.1 at 2022-02-06 23:17:28 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>nil}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" IS NULL AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 46ms (Views: 45.6ms | ActiveRecord: 0.1ms | Allocations: 764)


Started GET "/posts?user_id=1&category=some_category" for 127.0.0.1 at 2022-02-06 23:17:30 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 19ms (Views: 18.5ms | ActiveRecord: 0.1ms | Allocations: 875)


Started GET "/posts?user_id=1&category=some_category&created_at=%222022-02-06T21%3A15%3A35.074Z%22" for 127.0.0.1 at 2022-02-06 23:18:19 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"\"2022-02-06T21:15:35.074Z\""}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:35.074000"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.2ms | Allocations: 838)


Started GET "/posts?user_id=1&category=some_category&created_at=%222022-02-06T21%3A15%3A35.074Z%22" for 127.0.0.1 at 2022-02-06 23:20:34 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"\"2022-02-06T21:15:35.074Z\""}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:35.074000"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 88ms (Views: 86.5ms | ActiveRecord: 0.2ms | Allocations: 816)


Started GET "/posts?user_id=1&category=some_category&created_at=%222022-02-06T21%3A15%3A35%22" for 127.0.0.1 at 2022-02-06 23:21:01 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"\"2022-02-06T21:15:35\""}
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:35"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 50ms (Views: 37.4ms | ActiveRecord: 0.6ms | Allocations: 811)


Started GET "/posts?user_id=1&category=some_category&created_at=2022-02-06T21%3A15%3A35.074Z" for 127.0.0.1 at 2022-02-06 23:21:10 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"2022-02-06T21:15:35.074Z"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:35.074000"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.2ms | Allocations: 796)


Started GET "/posts?user_id=1&category=some_category" for 127.0.0.1 at 2022-02-06 23:22:33 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 33ms (Views: 16.3ms | ActiveRecord: 0.2ms | Allocations: 875)


Started GET "/posts?user_id=1&category=some_category&created_at=2022-02-06T21%3A15%3A35.074Z" for 127.0.0.1 at 2022-02-06 23:23:35 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"2022-02-06T21:15:35.074Z"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:35.074000"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.1ms | Allocations: 795)


Started POST "//user/4/comment" for 127.0.0.1 at 2022-02-06 23:36:36 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CommentsController#create as */*
  Parameters: {"content"=>"some comment", "user_id"=>"4", "comment"=>{"content"=>"some comment"}}
[31mUnpermitted parameter: :comment. Context: { controller: CommentsController, action: create, request: #<ActionDispatch::Request:0x00007f12247e8938>, params: {"content"=>"some comment", "controller"=>"comments", "action"=>"create", "user_id"=>"4", "comment"=>{"content"=>"some comment"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/comments_controller.rb:3:in `create'
Completed 200 OK in 185ms (Views: 0.5ms | ActiveRecord: 1.5ms | Allocations: 9451)


Started POST "//user/4/comment" for 127.0.0.1 at 2022-02-06 23:38:06 +0200
  [1m[35m (33.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CommentsController#create as */*
  Parameters: {"content"=>"some comment", "user_id"=>"4", "comment"=>{"content"=>"some comment"}}
[31mUnpermitted parameter: :comment. Context: { controller: CommentsController, action: create, request: #<ActionDispatch::Request:0x00007f234cdde138>, params: {"content"=>"some comment", "controller"=>"comments", "action"=>"create", "user_id"=>"4", "comment"=>{"content"=>"some comment"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/comments_controller.rb:3:in `create'
Completed 422 Unprocessable Entity in 528ms (ActiveRecord: 1.5ms | Allocations: 33401)


  
ActiveRecord::RecordInvalid (Validation failed: User must exist, Post must exist):
  
app/controllers/comments_controller.rb:3:in `create'
Started POST "/user/2/comment" for 127.0.0.1 at 2022-02-06 23:38:42 +0200
Processing by CommentsController#create as */*
  Parameters: {"content"=>"some comment", "post_id"=>"1", "user_id"=>"2", "comment"=>{"content"=>"some comment", "post_id"=>"1"}}
[31mUnpermitted parameter: :comment. Context: { controller: CommentsController, action: create, request: #<ActionDispatch::Request:0x00007f234c756d10>, params: {"content"=>"some comment", "post_id"=>"1", "controller"=>"comments", "action"=>"create", "user_id"=>"2", "comment"=>{"content"=>"some comment", "post_id"=>"1"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mComment Create (14.5ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some comment"], ["user_id", 2], ["post_id", 1], ["created_at", "2022-02-06 21:38:42.240713"], ["updated_at", "2022-02-06 21:38:42.240713"]]
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mTRANSACTION (19.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/comments_controller.rb:3:in `create'
Completed 200 OK in 250ms (Views: 0.4ms | ActiveRecord: 34.9ms | Allocations: 9445)


Started GET "/posts?user_id=1&category=some_category" for 127.0.0.1 at 2022-02-06 23:42:10 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.2ms | Allocations: 1115)


Started GET "/posts?user_id=1&category=some_category&created_at=2022-02-06T21%3A15%3A35.074Z" for 127.0.0.1 at 2022-02-06 23:43:24 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"2022-02-06T21:15:35.074Z"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:35.074000"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.2ms | Allocations: 832)


Started GET "/posts?user_id=1" for 127.0.0.1 at 2022-02-06 23:48:24 +0200
  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 240ms (Views: 105.1ms | ActiveRecord: 1.3ms | Allocations: 23204)


Started GET "/posts?user_id=1&category=some_category" for 127.0.0.1 at 2022-02-06 23:48:33 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.4ms | Allocations: 929)


Started GET "/posts?created_at=2022-02-06T21%3A15%3A35.074Z" for 127.0.0.1 at 2022-02-06 23:49:01 +0200
Processing by PostsController#get_by as */*
  Parameters: {"created_at"=>"2022-02-06T21:15:35.074Z"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."created_at" = ?[0m  [["created_at", "2022-02-06 21:15:35.074000"]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.2ms | Allocations: 807)


Started GET "/posts?created_at=2022-02-06T21%3A15" for 127.0.0.1 at 2022-02-06 23:49:07 +0200
Processing by PostsController#get_by as */*
  Parameters: {"created_at"=>"2022-02-06T21:15"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."created_at" = ?[0m  [["created_at", "2022-02-06 21:15:00"]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.1ms | Allocations: 808)


Started GET "/posts?user_id=1&category=some_category&created_at=2022-02-06T21%3A15" for 127.0.0.1 at 2022-02-06 23:52:01 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "created_at"=>"2022-02-06T21:15"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."created_at" = ? AND "posts"."user_id" = ?[0m  [["category", "some_category"], ["created_at", "2022-02-06 21:15:00"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 29ms (Views: 28.2ms | ActiveRecord: 0.3ms | Allocations: 822)


Started GET "/posts" for 127.0.0.1 at 2022-02-06 23:56:11 +0200
Processing by PostsController#get_by as */*
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.8ms | Allocations: 1141)


Started GET "/posts?created_at=2022-02-06T21%3A15%3A35.074122" for 127.0.0.1 at 2022-02-07 00:00:37 +0200
Processing by PostsController#get_by as */*
  Parameters: {"created_at"=>"2022-02-06T21:15:35.074122"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."created_at" = ?[0m  [["created_at", "2022-02-06 21:15:35.074122"]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.2ms | Allocations: 877)


Started GET "/orderedByDate?created_at=2022-02-06T21%3A15%3A35.074122" for 127.0.0.1 at 2022-02-07 09:55:48 +0200
  [1m[35m (12.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/orderedByDate"):
  
Started GET "/orderedByDate" for 127.0.0.1 at 2022-02-07 09:57:12 +0200
  [1m[35m (11.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/orderedByDate"):
  
Started GET "/posts/orderedByDate" for 127.0.0.1 at 2022-02-07 09:57:29 +0200
Processing by PostsController#ordered_by_date as */*
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY "posts"."created_at" ASC[0m
  â†³ app/controllers/posts_controller.rb:25:in `ordered_by_date'
Completed 200 OK in 337ms (Views: 91.3ms | ActiveRecord: 1.1ms | Allocations: 22551)


Started GET "/posts/orderedByDate" for 127.0.0.1 at 2022-02-07 09:59:17 +0200
  [1m[35m (2.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#ordered_by_date as */*
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY "posts"."created_at" DESC[0m
  â†³ app/controllers/posts_controller.rb:25:in `ordered_by_date'
Completed 200 OK in 437ms (Views: 186.1ms | ActiveRecord: 1.1ms | Allocations: 22577)


Started GET "/user/1/posts/orderedByDate" for 127.0.0.1 at 2022-02-07 10:07:47 +0200
  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#ordered_by_date as */*
  Parameters: {"user_id"=>"1"}
Completed 500 Internal Server Error in 305ms (ActiveRecord: 0.3ms | Allocations: 17165)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/posts_controller.rb:25:in `ordered_by_date'
Started GET "/user/1/posts/orderedByDate" for 127.0.0.1 at 2022-02-07 10:09:29 +0200
  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#ordered_by_date as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mPost Load (11.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" != ? ORDER BY "posts"."created_at" DESC[0m  [["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:25:in `ordered_by_date'
Completed 200 OK in 320ms (Views: 182.0ms | ActiveRecord: 11.7ms | Allocations: 22941)


Started GET "/user/2/posts/orderedByDate" for 127.0.0.1 at 2022-02-07 10:09:39 +0200
Processing by PostsController#ordered_by_date as */*
  Parameters: {"user_id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" != ? ORDER BY "posts"."created_at" DESC[0m  [["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:25:in `ordered_by_date'
Completed 200 OK in 32ms (Views: 31.2ms | ActiveRecord: 0.2ms | Allocations: 1072)


Started GET "/user/1/posts/orderedByDate" for 127.0.0.1 at 2022-02-07 10:09:43 +0200
Processing by PostsController#ordered_by_date as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" != ? ORDER BY "posts"."created_at" DESC[0m  [["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:25:in `ordered_by_date'
Completed 200 OK in 57ms (Views: 41.9ms | ActiveRecord: 0.3ms | Allocations: 845)


Started GET "/user/1posts?category=some_category" for 127.0.0.1 at 2022-02-07 10:12:18 +0200
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/user/1posts"):
  
Started GET "/user/1/posts?category=some_category" for 127.0.0.1 at 2022-02-07 10:12:26 +0200
Processing by PostsController#get_by as */*
  Parameters: {"category"=>"some_category", "user_id"=>"1"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["category", "some_category"], ["user_id", 1], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 305ms (Views: 40.2ms | ActiveRecord: 35.1ms | Allocations: 18708)


Started GET "/user/1/posts" for 127.0.0.1 at 2022-02-07 10:13:33 +0200
  [1m[35m (7.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#get_by as */*
  Parameters: {"id"=>"1"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f7fdc343ce0>, params: {"controller"=>"posts", "action"=>"get_by", "id"=>"1"} }[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" != ?[0m  [["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 348ms (Views: 147.2ms | ActiveRecord: 0.9ms | Allocations: 23021)


Started GET "/user/2/posts" for 127.0.0.1 at 2022-02-07 10:13:41 +0200
Processing by PostsController#get_by as */*
  Parameters: {"id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f7fdc7736d0>, params: {"controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" != ?[0m  [["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 0.2ms | Allocations: 1144)


Started GET "/user/2/posts?user_id=1" for 127.0.0.1 at 2022-02-07 10:13:56 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f7feceac8d8>, params: {"user_id"=>"1", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 1], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 36ms (Views: 26.2ms | ActiveRecord: 0.2ms | Allocations: 1266)


Started GET "/user/2/posts?user_id=2" for 127.0.0.1 at 2022-02-07 10:14:06 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f7fecede860>, params: {"user_id"=>"2", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 2], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 44ms (Views: 40.9ms | ActiveRecord: 0.1ms | Allocations: 849)


Started GET "/user/2/posts?user_id=1" for 127.0.0.1 at 2022-02-07 10:14:15 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f7fecf30890>, params: {"user_id"=>"1", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 1], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:21:in `get_by'
Completed 200 OK in 19ms (Views: 13.4ms | ActiveRecord: 0.1ms | Allocations: 1205)


Started GET "/user/2/posts?user_id=2" for 127.0.0.1 at 2022-02-07 10:19:35 +0200
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f007466f640>, params: {"user_id"=>"2", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 2], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 194ms (Views: 99.5ms | ActiveRecord: 0.8ms | Allocations: 18782)


Started GET "/user/2/posts?user_id=2" for 127.0.0.1 at 2022-02-07 10:21:28 +0200
  [1m[35m (2.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007effd4425b00>, params: {"user_id"=>"2", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 2], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 1131ms (Views: 68.9ms | ActiveRecord: 0.5ms | Allocations: 18781)


Started GET "/user/2/posts?user_id=2" for 127.0.0.1 at 2022-02-07 10:24:30 +0200
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f8450356570>, params: {"user_id"=>"2", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (10.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 2], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 148ms (Views: 18.6ms | ActiveRecord: 10.9ms | Allocations: 18784)


Started GET "/user/2/posts?user_id=2" for 127.0.0.1 at 2022-02-07 10:25:35 +0200
  [1m[35m (13.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f38fc605d88>, params: {"user_id"=>"2", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 2], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 179ms (Views: 53.0ms | ActiveRecord: 0.5ms | Allocations: 18786)


Started GET "/user/2/posts?user_id=2" for 127.0.0.1 at 2022-02-07 10:27:01 +0200
  [1m[35m (3.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"2"}
Filter chain halted as :check_same_user rendered or redirected
Completed 400 Bad Request in 20ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 343)


Started GET "/user/2/posts?user_id=1" for 127.0.0.1 at 2022-02-07 10:27:10 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f4db49c9e98>, params: {"user_id"=>"1", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 1], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 296ms (Views: 145.0ms | ActiveRecord: 1.4ms | Allocations: 23187)


Started GET "/user/2/posts?user_id=1&category=some_category" for 127.0.0.1 at 2022-02-07 10:37:37 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f4db4eaf3b8>, params: {"user_id"=>"1", "category"=>"some_category", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["category", "some_category"], ["user_id", 1], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 58ms (Views: 35.5ms | ActiveRecord: 1.0ms | Allocations: 1648)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangePostsCategory (20220207084639)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aposts" ("id" integer NOT NULL PRIMARY KEY, "content" varchar DEFAULT NULL, "category" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_user_id" ON "aposts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aposts" ("id","content","category","user_id","created_at","updated_at")
                     SELECT "id","content","category","user_id","created_at","updated_at" FROM "posts"[0m
  [1m[35m (31.2ms)[0m  [1m[35mDROP TABLE "posts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer NOT NULL PRIMARY KEY, "content" varchar DEFAULT NULL, "category" varchar NOT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("id","content","category","user_id","created_at","updated_at")
                     SELECT "id","content","category","user_id","created_at","updated_at" FROM "aposts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[31mrollback transaction[0m
Started DELETE "/user/1/post/2" for 127.0.0.1 at 2022-02-07 10:54:07 +0200
  [1m[35m (17.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20220207084639_change_posts_category.rb


):
  
activerecord (7.0.1) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.1) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.1) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.1) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.1) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.1) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.1) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.1) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.1) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.1) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.1) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.1) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.1) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.1) lib/rails/engine.rb:530:in `call'
puma (5.6.1) lib/puma/configuration.rb:252:in `call'
puma (5.6.1) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.1) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.1) lib/puma/request.rb:76:in `handle_request'
puma (5.6.1) lib/puma/server.rb:441:in `process_client'
puma (5.6.1) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started DELETE "/user/1/post/2" for 127.0.0.1 at 2022-02-07 10:57:21 +0200
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#delete as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:35:in `check_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:36:in `check_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:16:in `delete'
  [1m[36mPost Destroy (0.5ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/posts_controller.rb:16:in `delete'
  [1m[36mTRANSACTION (19.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:16:in `delete'
Completed 200 OK in 354ms (Views: 0.3ms | ActiveRecord: 22.4ms | Allocations: 31381)


Started DELETE "/user/1/post/3" for 127.0.0.1 at 2022-02-07 10:57:29 +0200
Processing by PostsController#delete as */*
  Parameters: {"user_id"=>"1", "id"=>"3"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:35:in `check_user'
Completed 404 Not Found in 21ms (ActiveRecord: 0.3ms | Allocations: 538)


  
ActiveRecord::RecordNotFound (Couldn't find Post with 'id'=3):
  
app/controllers/posts_controller.rb:35:in `check_user'
Started DELETE "/user/1/post/4" for 127.0.0.1 at 2022-02-07 10:57:46 +0200
Processing by PostsController#delete as */*
  Parameters: {"user_id"=>"1", "id"=>"4"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:35:in `check_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:36:in `check_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:16:in `delete'
  [1m[36mPost Destroy (3.7ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/posts_controller.rb:16:in `delete'
  [1m[36mTRANSACTION (22.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:16:in `delete'
Completed 200 OK in 84ms (Views: 0.2ms | ActiveRecord: 27.0ms | Allocations: 2255)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangePostsCategory (20220207084639)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aposts" ("id" integer NOT NULL PRIMARY KEY, "content" varchar DEFAULT NULL, "category" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_user_id" ON "aposts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aposts" ("id","content","category","user_id","created_at","updated_at")
                     SELECT "id","content","category","user_id","created_at","updated_at" FROM "posts"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "posts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer NOT NULL PRIMARY KEY, "content" varchar DEFAULT NULL, "category" varchar NOT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("id","content","category","user_id","created_at","updated_at")
                     SELECT "id","content","category","user_id","created_at","updated_at" FROM "aposts"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aposts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (6.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220207084639"]]
  [1m[36mTRANSACTION (52.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/user/1/post" for 127.0.0.1 at 2022-02-07 10:59:14 +0200
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#create as */*
  Parameters: {"content"=>"some new post5", "user_id"=>"1", "post"=>{"content"=>"some new post5"}}
[31mUnpermitted parameter: :post. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007fdf2cd80370>, params: {"content"=>"some new post5", "controller"=>"posts", "action"=>"create", "user_id"=>"1", "post"=>{"content"=>"some new post5"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:6:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:6:in `create'
  [1m[36mPost Create (0.4ms)[0m  [1m[32mINSERT INTO "posts" ("content", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some new post5"], ["category", nil], ["user_id", 1], ["created_at", "2022-02-07 08:59:15.419231"], ["updated_at", "2022-02-07 08:59:15.419231"]]
  â†³ app/controllers/posts_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/posts_controller.rb:6:in `create'
Completed 500 Internal Server Error in 387ms (ActiveRecord: 2.3ms | Allocations: 30701)


  
ActiveRecord::NotNullViolation (SQLite3::ConstraintException: NOT NULL constraint failed: posts.category):
  
app/controllers/posts_controller.rb:6:in `create'
Started POST "/user/1/post" for 127.0.0.1 at 2022-02-07 11:01:11 +0200
  [1m[35m (2.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#create as */*
  Parameters: {"content"=>"some new post5", "user_id"=>"1", "post"=>{"content"=>"some new post5"}}
[31mUnpermitted parameter: :post. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f2eecdc3b70>, params: {"content"=>"some new post5", "controller"=>"posts", "action"=>"create", "user_id"=>"1", "post"=>{"content"=>"some new post5"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:6:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/posts_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 423ms (ActiveRecord: 2.7ms | Allocations: 31147)


  
ActiveRecord::RecordInvalid (Validation failed: Category can't be blank):
  
app/controllers/posts_controller.rb:6:in `create'
Started GET "/user/2/posts?user_id=1&category=some_category" for 127.0.0.1 at 2022-02-07 11:02:23 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "category"=>"some_category", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f2eec7cbbc8>, params: {"user_id"=>"1", "category"=>"some_category", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["category", "some_category"], ["user_id", 1], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 50ms (Views: 40.4ms | ActiveRecord: 0.3ms | Allocations: 1434)


Started GET "/user/2/posts?user_id=1" for 127.0.0.1 at 2022-02-07 11:02:28 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f2eeca2e3c0>, params: {"user_id"=>"1", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (5.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 1], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 68ms (Views: 33.1ms | ActiveRecord: 5.4ms | Allocations: 1000)


Started GET "/user/2/posts?user_id=2" for 127.0.0.1 at 2022-02-07 11:02:33 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"2"}
Filter chain halted as :check_same_user rendered or redirected
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 126)


Started GET "/user/1/posts?user_id=2" for 127.0.0.1 at 2022-02-07 11:02:39 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"1"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f2eec59eb70>, params: {"user_id"=>"2", "controller"=>"posts", "action"=>"get_by", "id"=>"1"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 2], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 124ms (Views: 79.0ms | ActiveRecord: 0.2ms | Allocations: 970)


Started GET "/user/1/posts?category=some_category" for 127.0.0.1 at 2022-02-07 11:02:56 +0200
Processing by PostsController#get_by as */*
  Parameters: {"category"=>"some_category", "id"=>"1"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f2eec8fedd8>, params: {"category"=>"some_category", "controller"=>"posts", "action"=>"get_by", "id"=>"1"} }[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" != ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 32ms (Views: 3.7ms | ActiveRecord: 0.3ms | Allocations: 872)


Started GET "/user/1/posts?category=some_category" for 127.0.0.1 at 2022-02-07 11:02:59 +0200
Processing by PostsController#get_by as */*
  Parameters: {"category"=>"some_category", "id"=>"1"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f2eec9dc660>, params: {"category"=>"some_category", "controller"=>"posts", "action"=>"get_by", "id"=>"1"} }[0m
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" != ?[0m  [["category", "some_category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 44ms (Views: 27.8ms | ActiveRecord: 0.1ms | Allocations: 841)


Started GET "/user/1/posts?user_id=2&category=some_category" for 127.0.0.1 at 2022-02-07 11:03:01 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "category"=>"some_category", "id"=>"1"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f2eec934a00>, params: {"user_id"=>"2", "category"=>"some_category", "controller"=>"posts", "action"=>"get_by", "id"=>"1"} }[0m
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["category", "some_category"], ["user_id", 2], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 38ms (Views: 20.7ms | ActiveRecord: 0.1ms | Allocations: 865)


Started GET "/user/1/posts?user_id=2" for 127.0.0.1 at 2022-02-07 11:03:05 +0200
Processing by PostsController#get_by as */*
  Parameters: {"user_id"=>"2", "id"=>"1"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f2eec9820e8>, params: {"user_id"=>"2", "controller"=>"posts", "action"=>"get_by", "id"=>"1"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = ? AND "posts"."user_id" != ?[0m  [["user_id", 2], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 42ms (Views: 31.9ms | ActiveRecord: 0.2ms | Allocations: 983)


Started GET "/user/1/posts?category=SOme%20category" for 127.0.0.1 at 2022-02-07 11:03:16 +0200
Processing by PostsController#get_by as */*
  Parameters: {"category"=>"SOme category", "id"=>"1"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f2eecb24c20>, params: {"category"=>"SOme category", "controller"=>"posts", "action"=>"get_by", "id"=>"1"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" != ?[0m  [["category", "SOme category"], ["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 34ms (Views: 21.7ms | ActiveRecord: 0.2ms | Allocations: 974)


Started POST "/user/2/comment" for 127.0.0.1 at 2022-02-07 11:18:32 +0200
  [1m[35m (6.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CommentsController#create as */*
  Parameters: {"content"=>"some new comment", "post_id"=>"1", "user_id"=>"2", "comment"=>{"content"=>"some new comment", "post_id"=>"1"}}
[31mUnpermitted parameter: :comment. Context: { controller: CommentsController, action: create, request: #<ActionDispatch::Request:0x00007ff8e8de3f08>, params: {"content"=>"some new comment", "post_id"=>"1", "controller"=>"comments", "action"=>"create", "user_id"=>"2", "comment"=>{"content"=>"some new comment", "post_id"=>"1"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mComment Create (14.6ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some new comment"], ["user_id", 2], ["post_id", 1], ["created_at", "2022-02-07 09:18:34.608880"], ["updated_at", "2022-02-07 09:18:34.608880"]]
  â†³ app/controllers/comments_controller.rb:3:in `create'
  [1m[36mTRANSACTION (15.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/comments_controller.rb:3:in `create'
Completed 200 OK in 528ms (Views: 0.6ms | ActiveRecord: 34.0ms | Allocations: 37246)


Started POST "/user/1/post" for 127.0.0.1 at 2022-02-07 11:26:52 +0200
  [1m[35m (12.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#create as */*
  Parameters: {"content"=>"some new post5", "category"=>"new category", "user_id"=>"1", "post"=>{"content"=>"some new post5", "category"=>"new category"}}
[31mUnpermitted parameter: :post. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f0030da9698>, params: {"content"=>"some new post5", "category"=>"new category", "controller"=>"posts", "action"=>"create", "user_id"=>"1", "post"=>{"content"=>"some new post5", "category"=>"new category"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:6:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:6:in `create'
  [1m[36mPost Create (3.3ms)[0m  [1m[32mINSERT INTO "posts" ("content", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some new post5"], ["category", "NEW CATEGORY"], ["user_id", 1], ["created_at", "2022-02-07 09:26:54.046428"], ["updated_at", "2022-02-07 09:26:54.046428"]]
  â†³ app/controllers/posts_controller.rb:6:in `create'
  [1m[36mTRANSACTION (39.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:6:in `create'
Completed 200 OK in 445ms (Views: 0.3ms | ActiveRecord: 43.9ms | Allocations: 30766)


Started GET "/user/1/posts" for 127.0.0.1 at 2022-02-07 11:27:03 +0200
Processing by PostsController#get_by as */*
  Parameters: {"id"=>"1"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f0024783810>, params: {"controller"=>"posts", "action"=>"get_by", "id"=>"1"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" != ?[0m  [["user_id", 1]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 26ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 1138)


Started GET "/user/2/posts" for 127.0.0.1 at 2022-02-07 11:27:10 +0200
Processing by PostsController#get_by as */*
  Parameters: {"id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f003108cb80>, params: {"controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" != ?[0m  [["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:22:in `get_by'
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.1ms | Allocations: 1036)


Started POST "/user/1/post" for 127.0.0.1 at 2022-02-07 11:32:31 +0200
  [1m[35m (27.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NameError (undefined local variable or method `i' for PostsController:Class):
  
app/controllers/posts_controller.rb:4:in `<class:PostsController>'
app/controllers/posts_controller.rb:1:in `<main>'
Started POST "/user/1/post" for 127.0.0.1 at 2022-02-07 11:33:14 +0200
  [1m[35m (19.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#create as */*
  Parameters: {"content"=>"some new post5", "category"=>"new category", "user_id"=>"1", "post"=>{"content"=>"some new post5", "category"=>"new category"}}
[31mUnpermitted parameter: :post. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007eff8cdcd498>, params: {"content"=>"some new post5", "category"=>"new category", "controller"=>"posts", "action"=>"create", "user_id"=>"1", "post"=>{"content"=>"some new post5", "category"=>"new category"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/posts_controller.rb:7:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/posts_controller.rb:7:in `create'
  [1m[36mPost Create (13.5ms)[0m  [1m[32mINSERT INTO "posts" ("content", "category", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "some new post5"], ["category", "NEW CATEGORY"], ["user_id", 1], ["created_at", "2022-02-07 09:33:16.435649"], ["updated_at", "2022-02-07 09:33:16.435649"]]
  â†³ app/controllers/posts_controller.rb:7:in `create'
  [1m[36mTRANSACTION (73.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/posts_controller.rb:7:in `create'
Completed 200 OK in 468ms (Views: 0.3ms | ActiveRecord: 89.0ms | Allocations: 30779)


Started GET "/user/2/posts" for 127.0.0.1 at 2022-02-07 11:33:34 +0200
Processing by PostsController#get_by as */*
  Parameters: {"id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 584)


  
NoMethodError (undefined method `upcase' for nil:NilClass):
  
app/controllers/posts_controller.rb:50:in `upcase_category'
Started GET "/user/2/posts?category=SOme%20category" for 127.0.0.1 at 2022-02-07 11:33:49 +0200
Processing by PostsController#get_by as */*
  Parameters: {"category"=>"SOme category", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007eff8c5b4ae0>, params: {"category"=>"SOme category", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" != ?[0m  [["category", "SOME CATEGORY"], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:23:in `get_by'
Completed 200 OK in 92ms (Views: 65.2ms | ActiveRecord: 0.4ms | Allocations: 1040)


Started GET "/user/2/posts?category=SOme%20category" for 127.0.0.1 at 2022-02-07 11:34:30 +0200
  [1m[35m (29.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#get_by as */*
  Parameters: {"category"=>"SOme category", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f9fa8546970>, params: {"category"=>"SOme category", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" != ?[0m  [["category", "SOME CATEGORY"], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:23:in `get_by'
Completed 200 OK in 260ms (Views: 42.0ms | ActiveRecord: 0.5ms | Allocations: 18874)


Started GET "/user/2/posts?category=new%20category" for 127.0.0.1 at 2022-02-07 11:34:45 +0200
Processing by PostsController#get_by as */*
  Parameters: {"category"=>"new category", "id"=>"2"}
[31mUnpermitted parameter: :id. Context: { controller: PostsController, action: get_by, request: #<ActionDispatch::Request:0x00007f9fa8d92e08>, params: {"category"=>"new category", "controller"=>"posts", "action"=>"get_by", "id"=>"2"} }[0m
  [1m[36mPost Load (42.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."category" = ? AND "posts"."user_id" != ?[0m  [["category", "NEW CATEGORY"], ["user_id", 2]]
  â†³ app/controllers/posts_controller.rb:23:in `get_by'
Completed 200 OK in 276ms (Views: 211.0ms | ActiveRecord: 43.0ms | Allocations: 5349)


